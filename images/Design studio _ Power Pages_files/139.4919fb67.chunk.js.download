(window.webpackJsonp=window.webpackJsonp||[]).push([[139],{18710:function(t,e,o){"use strict";o.d(e,"a",(function(){return r}));var i=o(12065),s=o(18711),n=o(18713),r=Object(i.a)(s.a,n.a,void 0,{scope:"MarqueeSelection"})},18711:function(t,e,o){"use strict";o.d(e,"a",(function(){return p}));var i=o(11190),s=o(11035),n=o(12061),r=o(18712),l=o(11798),c=o(11801),a=o(11802),h=o(11806),u=o(11424),_=o(16692),d=Object(n.a)(),p=function(t){function e(e){var o=t.call(this,e)||this;return o._root=s.createRef(),o._onMouseDown=function(t){var e=o.props,i=e.isEnabled,s=e.onShouldStartSelection;o._isMouseEventOnScrollbar(t)||o._isInSelectionToggle(t)||o._isTouch||!i||o._isDragStartInSelection(t)||s&&!s(t)||o._scrollableSurface&&0===t.button&&o._root.current&&(o._selectedIndicies={},o._preservedIndicies=void 0,o._events.on(window,"mousemove",o._onAsyncMouseMove,!0),o._events.on(o._scrollableParent,"scroll",o._onAsyncMouseMove),o._events.on(window,"click",o._onMouseUp,!0),o._autoScroll=new r.a(o._root.current),o._scrollTop=o._scrollableSurface.scrollTop,o._scrollLeft=o._scrollableSurface.scrollLeft,o._rootRect=o._root.current.getBoundingClientRect(),o._onMouseMove(t))},o._onTouchStart=function(t){o._isTouch=!0,o._async.setTimeout((function(){o._isTouch=!1}),0)},o._onPointerDown=function(t){"touch"===t.pointerType&&(o._isTouch=!0,o._async.setTimeout((function(){o._isTouch=!1}),0))},Object(l.a)(o),o._async=new c.a(o),o._events=new a.a(o),o.state={dragRect:void 0},o}return Object(i.h)(e,t),e.prototype.componentDidMount=function(){this._scrollableParent=Object(h.f)(this._root.current),this._scrollableSurface=this._scrollableParent===window?document.body:this._scrollableParent;var t=this.props.isDraggingConstrainedToRoot?this._root.current:this._scrollableSurface;this._events.on(t,"mousedown",this._onMouseDown),this._events.on(t,"touchstart",this._onTouchStart,!0),this._events.on(t,"pointerdown",this._onPointerDown,!0)},e.prototype.componentWillUnmount=function(){this._autoScroll&&this._autoScroll.dispose(),delete this._scrollableParent,delete this._scrollableSurface,this._events.dispose(),this._async.dispose()},e.prototype.render=function(){var t=this.props,e=t.rootProps,o=t.children,n=t.theme,r=t.className,l=t.styles,c=this.state.dragRect,a=d(l,{theme:n,className:r});return s.createElement("div",Object(i.a)({},e,{className:a.root,ref:this._root}),o,c&&s.createElement("div",{className:a.dragMask}),c&&s.createElement("div",{className:a.box,style:c},s.createElement("div",{className:a.boxFill})))},e.prototype._isMouseEventOnScrollbar=function(t){var e=t.target,o=e.offsetWidth-e.clientWidth,i=e.offsetHeight-e.clientHeight;if(o||i){var s=e.getBoundingClientRect();if(Object(u.a)(this.props.theme)){if(t.clientX<s.left+o)return!0}else if(t.clientX>s.left+e.clientWidth)return!0;if(t.clientY>s.top+e.clientHeight)return!0}return!1},e.prototype._getRootRect=function(){return{left:this._rootRect.left+(this._scrollableSurface?this._scrollLeft-this._scrollableSurface.scrollLeft:this._scrollLeft),top:this._rootRect.top+(this._scrollableSurface?this._scrollTop-this._scrollableSurface.scrollTop:this._scrollTop),width:this._rootRect.width,height:this._rootRect.height}},e.prototype._onAsyncMouseMove=function(t){var e=this;this._async.requestAnimationFrame((function(){e._onMouseMove(t)})),t.stopPropagation(),t.preventDefault()},e.prototype._onMouseMove=function(t){if(this._autoScroll){void 0!==t.clientX&&(this._lastMouseEvent=t);var e=this._getRootRect(),o={left:t.clientX-e.left,top:t.clientY-e.top};if(this._dragOrigin||(this._dragOrigin=o),void 0!==t.buttons&&0===t.buttons)this._onMouseUp(t);else if(this.state.dragRect||Object(_.c)(this._dragOrigin,o)>5){if(!this.state.dragRect){var i=this.props.selection;t.shiftKey||i.setAllSelected(!1),this._preservedIndicies=i&&i.getSelectedIndices&&i.getSelectedIndices()}var s=this.props.isDraggingConstrainedToRoot?{left:Math.max(0,Math.min(e.width,this._lastMouseEvent.clientX-e.left)),top:Math.max(0,Math.min(e.height,this._lastMouseEvent.clientY-e.top))}:{left:this._lastMouseEvent.clientX-e.left,top:this._lastMouseEvent.clientY-e.top},n={left:Math.min(this._dragOrigin.left||0,s.left),top:Math.min(this._dragOrigin.top||0,s.top),width:Math.abs(s.left-(this._dragOrigin.left||0)),height:Math.abs(s.top-(this._dragOrigin.top||0))};this._evaluateSelection(n,e),this.setState({dragRect:n})}return!1}},e.prototype._onMouseUp=function(t){this._events.off(window),this._events.off(this._scrollableParent,"scroll"),this._autoScroll&&this._autoScroll.dispose(),this._autoScroll=this._dragOrigin=this._lastMouseEvent=void 0,this._selectedIndicies=this._itemRectCache=void 0,this.state.dragRect&&(this.setState({dragRect:void 0}),t.preventDefault(),t.stopPropagation())},e.prototype._isPointInRectangle=function(t,e){return!!e.top&&t.top<e.top&&t.bottom>e.top&&!!e.left&&t.left<e.left&&t.right>e.left},e.prototype._isDragStartInSelection=function(t){var e=this.props.selection;if(!this._root.current||e&&0===e.getSelectedCount())return!1;for(var o=this._root.current.querySelectorAll("[data-selection-index]"),i=0;i<o.length;i++){var s=o[i],n=Number(s.getAttribute("data-selection-index"));if(e.isIndexSelected(n)){var r=s.getBoundingClientRect();if(this._isPointInRectangle(r,{left:t.clientX,top:t.clientY}))return!0}}return!1},e.prototype._isInSelectionToggle=function(t){for(var e=t.target;e&&e!==this._root.current;){if("true"===e.getAttribute("data-selection-toggle"))return!0;e=e.parentElement}return!1},e.prototype._evaluateSelection=function(t,e){if(t&&this._root.current){var o=this.props.selection,i=this._root.current.querySelectorAll("[data-selection-index]");this._itemRectCache||(this._itemRectCache={});for(var s=0;s<i.length;s++){var n=i[s],r=n.getAttribute("data-selection-index"),l=this._itemRectCache[r];l||(l={left:(l=n.getBoundingClientRect()).left-e.left,top:l.top-e.top,width:l.width,height:l.height,right:l.left-e.left+l.width,bottom:l.top-e.top+l.height}).width>0&&l.height>0&&(this._itemRectCache[r]=l),l.top<t.top+t.height&&l.bottom>t.top&&l.left<t.left+t.width&&l.right>t.left?this._selectedIndicies[r]=!0:delete this._selectedIndicies[r]}var c=this._allSelectedIndices||{};for(var r in this._allSelectedIndices={},this._selectedIndicies)this._selectedIndicies.hasOwnProperty(r)&&(this._allSelectedIndices[r]=!0);if(this._preservedIndicies)for(var a=0,h=this._preservedIndicies;a<h.length;a++){r=h[a];this._allSelectedIndices[r]=!0}var u=!1;for(var r in this._allSelectedIndices)if(this._allSelectedIndices[r]!==c[r]){u=!0;break}if(!u)for(var r in c)if(this._allSelectedIndices[r]!==c[r]){u=!0;break}if(u){o.setChangeEvents(!1),o.setAllSelected(!1);for(var _=0,d=Object.keys(this._allSelectedIndices);_<d.length;_++){r=d[_];o.setIndexSelected(Number(r),!0,!1)}o.setChangeEvents(!0)}}},e.defaultProps={rootTagName:"div",rootProps:{},isEnabled:!0},e}(s.Component)},18712:function(t,e,o){"use strict";o.d(e,"a",(function(){return r}));var i=o(11802),s=o(11806),n=o(13322),r=function(){function t(t){this._events=new i.a(this),this._scrollableParent=Object(s.f)(t),this._incrementScroll=this._incrementScroll.bind(this),this._scrollRect=Object(n.a)(this._scrollableParent),this._scrollableParent===window&&(this._scrollableParent=document.body),this._scrollableParent&&(this._events.on(window,"mousemove",this._onMouseMove,!0),this._events.on(window,"touchmove",this._onTouchMove,!0))}return t.prototype.dispose=function(){this._events.dispose(),this._stopScroll()},t.prototype._onMouseMove=function(t){this._computeScrollVelocity(t)},t.prototype._onTouchMove=function(t){t.touches.length>0&&this._computeScrollVelocity(t)},t.prototype._computeScrollVelocity=function(t){if(this._scrollRect){var e,o;"clientX"in t?(e=t.clientX,o=t.clientY):(e=t.touches[0].clientX,o=t.touches[0].clientY);var i,s,n,r=this._scrollRect.top,l=this._scrollRect.left,c=r+this._scrollRect.height-100,a=l+this._scrollRect.width-100;o<r+100||o>c?(s=o,i=r,n=c,this._isVerticalScroll=!0):(s=e,i=l,n=a,this._isVerticalScroll=!1),this._scrollVelocity=s<i+100?Math.max(-15,(100-(s-i))/100*-15):s>n?Math.min(15,(s-n)/100*15):0,this._scrollVelocity?this._startScroll():this._stopScroll()}},t.prototype._startScroll=function(){this._timeoutId||this._incrementScroll()},t.prototype._incrementScroll=function(){this._scrollableParent&&(this._isVerticalScroll?this._scrollableParent.scrollTop+=Math.round(this._scrollVelocity):this._scrollableParent.scrollLeft+=Math.round(this._scrollVelocity)),this._timeoutId=setTimeout(this._incrementScroll,16)},t.prototype._stopScroll=function(){this._timeoutId&&(clearTimeout(this._timeoutId),delete this._timeoutId)},t}()},18713:function(t,e,o){"use strict";o.d(e,"a",(function(){return s}));var i=o(12092),s=function(t){var e,o,s,n=t.theme,r=t.className,l=n.palette;return{root:[r,{position:"relative",cursor:"default"}],dragMask:[{position:"absolute",background:"rgba(255, 0, 0, 0)",left:0,top:0,right:0,bottom:0,selectors:(e={},e[i.m]={background:"none",backgroundColor:"transparent"},e)}],box:[{position:"absolute",boxSizing:"border-box",border:"1px solid ".concat(l.themePrimary),pointerEvents:"none",zIndex:10,selectors:(o={},o[i.m]={borderColor:"Highlight"},o)}],boxFill:[{position:"absolute",boxSizing:"border-box",backgroundColor:l.themePrimary,opacity:.1,left:0,top:0,right:0,bottom:0,selectors:(s={},s[i.m]={background:"none",backgroundColor:"transparent"},s)}]}}}}]);